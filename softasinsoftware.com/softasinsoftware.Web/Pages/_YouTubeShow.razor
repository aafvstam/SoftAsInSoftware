@using softasinsoftware.Shared.Models

<div class="card neumorphism mt-3">
	<img class="card-img-top" src="@youTubeVideo.ThumbnailUrl" alt="@youTubeVideo.Title">
	<div class="card-body">
		<h5 class="card-title text-center">@youTubeVideo.Title</h5>
		<div class="card-text text-small">@Truncate(youTubeVideo.Description, 150)</div>
	</div>
	<div class="card-footer text-center">
		@if(youTubeVideo.IsOnAir)
		{
			<div class="card-live"><span class="oi oi-signal" aria-hidden="true"></span> Live</div>
		}

		@if(youTubeVideo.IsInFuture)
		{
			<div class="card-upcoming">Upcoming</div>
		}

		
		<div class="fw-bolder">@youTubeVideo.ShowDate.Date.ToShortDateString()</div>
		<a href="@youTubeVideo.Url">Goto YouTube <span class="oi oi-external-link" aria-hidden="true"></span></a>
	</div>
</div>

@code {
	[Parameter]
	public YouTubeVideo youTubeVideo { get; set; } = default!;

	public static string Truncate(string source, int length)
	{
		return source.Substring(0, Math.Min(length, source.Length)) + " ...";
	}
}